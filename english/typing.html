<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משחק הקלדה - Typing Game</title>
    <link rel="stylesheet" href="styles.css">
    <script src="lesson-manager.js" onerror="console.log('lesson-manager.js not found, using basic mode')"></script>
</head>
<body class="typing-body">
    <div class="container">
        <h1>⌨️ משחק הקלדה - Typing Game</h1>
        
        <div id="lessonSelector"></div>

        <div class="score-section">
            <div class="score-box">
                <span>✅ נכונות</span>
                <span class="score-number" id="correctScore">0</span>
            </div>
            <div class="score-box">
                <span>❌ טעויות</span>
                <span class="score-number" id="wrongScore">0</span>
            </div>
        </div>

        <div class="game-card" id="gameArea">
            <div class="word-display">
                <button type="button" class="speaker-btn" id="speakerBtn" onclick="speakWord()" title="הקרא את המילה" aria-label="הקרא את המילה">
                    🔊
                </button>
                <div class="english-word" id="englishWord">Loading...</div>
                <div class="progress-text" id="progressText">מילה 1 מתוך 63</div>
            </div>

            <div class="input-section">
                <div class="input-label">תרגם לעברית:</div>
                <input
                    type="text"
                    class="answer-input"
                    id="answerInput"
                    name="answer"
                    placeholder="הקלד את התרגום כאן..."
                    autocomplete="off"
                >
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="controls">
                <button type="button" class="btn btn-submit" id="submitBtn" onclick="checkAnswer()">
                    ✓ בדוק תשובה
                </button>
                <button type="button" class="btn btn-skip" id="skipBtn" onclick="skipWord()">
                    ⏭️ דלג
                </button>
                <button type="button" class="btn btn-next" id="nextBtn" onclick="nextWord()" style="display: none;">
                    ➡️ הבא
                </button>
            </div>
        </div>

        <div class="complete-screen" id="completeScreen">
            <h2>🎉 סיימת!</h2>
            <div class="final-stats">
                <div>✅ תשובות נכונות: <span class="stat-highlight" id="finalCorrect">0</span></div>
                <div>❌ טעויות: <span class="stat-highlight" id="finalWrong">0</span></div>
                <div>⏭️ דילוגים: <span class="stat-highlight" id="finalSkipped">0</span></div>
                <div>📊 ציון: <span class="stat-highlight" id="finalPercentage">0%</span></div>
            </div>
            <div>
                <button type="button" class="restart-btn" onclick="restartGame()">🔄 שחק שוב (כל המילים)</button>
                <button type="button" class="retry-btn" id="retryWrongBtn" onclick="retryWrong()" style="display: none;">
                    💪 תרגל מילים שטעית
                </button>
            </div>
        </div>

        <div class="hint">
            💡 לחץ על 🔊 כדי לשמוע את המילה | הקלד את התרגום בעברית ולחץ Enter
        </div>
    </div>

    <script type="module" src="typing.js"></script>
</body>
</html>
