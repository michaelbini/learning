<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×¡×“×¨×•×ª ×•×—×•×§×™×•×ª - ×›×™×ª×” ×”'</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <h1>ğŸ”¢ ××©×—×§ ×¡×“×¨×•×ª ××¡×¤×¨×™× ğŸ”¢</h1>
        
        
        <!-- Game Setup -->
        <div id="gameSetup">
            <div class="instructions">
                <strong>ğŸ“– ×”×•×¨××•×ª ×”××©×—×§:</strong><br>
                ×”×©×œ× ×¡×“×¨×•×ª ××¡×¤×¨×™× ×•×”×‘×Ÿ ××ª ×”×“×¤×•×¡×™× ×”××ª××˜×™×™×.<br>×‘×—×¨ ×¨××ª ×§×•×©×™ ×•×”×ª×—×œ ×œ×©×—×§!
            </div>

            <div class="game-modes">

                <button type="button" class="mode-btn active" onclick="selectLevel(1)">
                    <span class="mode-icon">ğŸ˜Š</span>
                    <span>×¨××” 1</span>

                </button>
                <button type="button" class="mode-btn " onclick="selectLevel(2)">
                    <span class="mode-icon">ğŸ¯</span>
                    <span>×¨××” 2</span>

                </button>
                <button type="button" class="mode-btn " onclick="selectLevel(3)">
                    <span class="mode-icon">ğŸ’ª</span>
                    <span>×¨××” 3</span>

                </button>
                <button type="button" class="mode-btn " onclick="selectLevel(4)">
                    <span class="mode-icon">ğŸ”¥</span>
                    <span>×¨××” 4</span>

                </button>
                <button type="button" class="mode-btn " onclick="selectLevel(5)">
                    <span class="mode-icon">ğŸš€</span>
                    <span>×¨××” 5</span>

                </button>
            </div>

            <div class="buttons-container">
                <button type="button" class="btn btn-primary" onclick="startGame()">×”×ª×—×œ ××©×—×§</button>
            </div>
        </div>

        <!-- Game Area -->
        <div id="gameArea" style="display: none;"><!-- ×œ×•×— × ×™×§×•×“ -->
            <div class="score-board">
                <div class="score-item">
                    <div class="score-label">× ×§×•×“×•×ª</div>
                    <div class="score-value" id="score">0</div>
                </div>
                <div class="score-item">
                    <div class="score-label">×¨××”</div>
                    <div class="score-value" id="currentLevel">1</div>
                </div>
                <div class="score-item">
                    <div class="score-label">×“×™×•×§</div>
                    <div class="score-value"><span id="accuracy">100</span>%</div>
                </div>
                <div class="score-item">
                    <div class="score-label">×¨×¦×£</div>
                    <div class="score-value" id="streak">0</div>
                </div>
            </div>

            <!-- ×©××œ×” -->
            <div class="question-display">
                ×”×©×œ× ××ª ×”×¡×“×¨×”:
                <span class="sequence-type-badge" id="sequenceType">×¡×“×¨×” ×—×©×‘×•× ×™×ª</span>
            </div>

            <!-- ×”×¡×“×¨×” -->
            <div class="sequence-container">
                <div class="sequence" id="sequenceDisplay">
                    <!-- ×ª×™×•×•×¦×¨ ×“×™× ××™×ª -->
                </div>
            </div>

            <!-- ×¨××– ×œ×“×¤×•×¡ -->
            <div class="pattern-hint" id="patternHint">
                ğŸ’¡ ×—×¤×© ×“×¤×•×¡ ×‘×”×¤×¨×©×™× ×‘×™×Ÿ ×”××¡×¤×¨×™×
            </div>

            <!-- ×’×™×œ×•×™ ×”×—×•×§ -->
            <div class="rule-reveal" id="ruleReveal" onclick="revealRule()">
                ğŸ” ×œ×—×¥ ×œ×’×™×œ×•×™ ×”×—×•×§ (-10 × ×§×•×“×•×ª)
                <div id="ruleText" style="display: none; margin-top: 10px; font-weight: bold;"></div>
            </div>

            <!-- ××¤×©×¨×•×™×•×ª ×ª×©×•×‘×” -->
            <div class="options-grid" id="optionsGrid">
                <!-- ×™×™×•×•×¦×¨×• ×“×™× ××™×ª -->
            </div>

            <!-- ×›×¤×ª×•×¨×™× -->
            <div style="text-align: center; margin-top: 30px;">
                <button type="button" class="btn btn-primary" onclick="checkAnswer()">×‘×“×•×§ ×ª×©×•×‘×”</button>
                <button type="button" class="btn btn-warning" onclick="showHint()" aria-label="×¨××–">ğŸ’¡ ×¨××– (-5 × ×§')</button>
                <button type="button" class="btn btn-info" onclick="showPattern()">ğŸ“Š ×”×¦×’ ×“×¤×•×¡ (-7 × ×§')</button>
                <button type="button" class="btn btn-success" onclick="newSequence()">×¡×“×¨×” ×—×“×©×”</button>
            </div>

            <!-- ××©×•×‘ -->
            <div class="feedback" id="feedback"></div>

            <!-- ×”×ª×§×“××•×ª -->
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar" style="width: 0%">0/10</div>
            </div>
        </div>

    </div>

        
        

    <script>
        // ××©×ª× ×™ ××©×—×§
        let currentLevel = 1;
        let score = 0;
        let streak = 0;
        let totalQuestions = 0;
        let correctAnswers = 0;
        let questionsInLevel = 0;
        
        // ××©×ª× ×™ ×¡×“×¨×”
        let currentSequence = [];
        let missingIndices = [];
        let sequenceRule = '';
        let sequenceType = '';
        let userAnswers = {};
        let correctAnswersMap = {};
        
        // ××ª×—×•×œ
        window.addEventListener('load', () => {
            loadProgress();
        });

        function initGame() {
            newSequence();
        }

        function selectLevel(level) {
            currentLevel = level;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.mode-btn').classList.add('active');
        }

        function startGame() {
            document.getElementById('gameSetup').style.display = 'none';
            document.getElementById('gameArea').style.display = 'block';
            score = 0;
            streak = 0;
            totalQuestions = 0;
            correctAnswers = 0;
            questionsInLevel = 0;
            document.getElementById('score').textContent = score;
            document.getElementById('currentLevel').textContent = currentLevel;
            document.getElementById('streak').textContent = streak;
            document.getElementById('accuracy').textContent = '100';
            initGame();
        }

        function newGame() {
            document.getElementById('gameSetup').style.display = 'block';
            document.getElementById('gameArea').style.display = 'none';
        }

        function newSequence() {
            // ××™×¤×•×¡
            userAnswers = {};
            correctAnswersMap = {};
            document.getElementById('ruleReveal').classList.remove('revealed');
            document.getElementById('ruleText').style.display = 'none';
            document.getElementById('patternHint').classList.remove('show');
            
            // ×™×¦×™×¨×ª ×¡×“×¨×” ×œ×¤×™ ×¨××”
            switch(currentLevel) {
                case 1:
                    createLevel1Sequence();
                    break;
                case 2:
                    createLevel2Sequence();
                    break;
                case 3:
                    createLevel3Sequence();
                    break;
                case 4:
                    createLevel4Sequence();
                    break;
                case 5:
                    createLevel5Sequence();
                    break;
            }
            
            // ×”×¦×’ ×¡×“×¨×”
            displaySequence();
            createOptions();
            
            // ×¢×“×›×•×Ÿ ×ª×’ ×¡×•×’
            document.getElementById('sequenceType').textContent = sequenceType;
        }

        function createLevel1Sequence() {
            // ×¨××” 1: ×¡×“×¨×•×ª ×—×©×‘×•× ×™×•×ª ×¤×©×•×˜×•×ª (×”×•×¡×¤×”/×—×™×¡×•×¨ ×§×‘×•×¢)
            const start = Math.floor(Math.random() * 20) + 1;
            const diff = Math.floor(Math.random() * 5) + 1;
            const direction = Math.random() < 0.7 ? 1 : -1; // 70% ×¢×•×œ×”, 30% ×™×•×¨×“×ª
            
            currentSequence = [];
            for (let i = 0; i < 8; i++) {
                currentSequence.push(start + (i * diff * direction));
            }
            
            sequenceRule = direction > 0 ? 
                `×›×œ ××¡×¤×¨ ×’×“×•×œ ×‘-${diff} ××”×§×•×“×` : 
                `×›×œ ××¡×¤×¨ ×§×˜×Ÿ ×‘-${diff} ××”×§×•×“×`;
            sequenceType = '×¡×“×¨×” ×—×©×‘×•× ×™×ª';
            
            // ×”×—×¡×¨ 2 ××¡×¤×¨×™×
            missingIndices = [4, 6];
        }

        function createLevel2Sequence() {
            // ×¨××” 2: ×¡×“×¨×•×ª ×›×¤×œ ××• ×¡×“×¨×•×ª ×¢× ×§×¤×™×¦×•×ª ×’×“×œ×•×ª
            const type = Math.random();
            
            if (type < 0.5) {
                // ×›×¤×œ ×§×‘×•×¢
                const start = Math.floor(Math.random() * 3) + 2;
                const mult = Math.floor(Math.random() * 2) + 2;

                currentSequence = [start];
                for (let i = 1; i < 8; i++) {
                    currentSequence.push(currentSequence[i-1] * mult);
                }

                sequenceRule = `×›×œ ××¡×¤×¨ ×›×¤×•×œ ${mult} ××”×§×•×“×`;
                sequenceType = '×¡×“×¨×” ×”× ×“×¡×™×ª';
            } else {
                // ×”×¤×¨×© ×’×“×œ
                const start = Math.floor(Math.random() * 5) + 1;
                let diff = 2;
                
                currentSequence = [start];
                for (let i = 1; i < 8; i++) {
                    currentSequence.push(currentSequence[i-1] + diff);
                    diff += 2;
                }
                
                sequenceRule = '×”×”×¤×¨×© ×’×“×œ ×‘-2 ×›×œ ×¤×¢×';
                sequenceType = '×¡×“×¨×” ×¢× ×”×¤×¨×© ××©×ª× ×”';
            }
            
            missingIndices = [3, 5, 7];
        }

        function createLevel3Sequence() {
            // ×¨××” 3: ×¡×“×¨×•×ª ×™×•×¨×“×•×ª, ×—×™×œ×•×§, ××• ×“×¤×•×¡ ××•×¨×›×‘
            const type = Math.floor(Math.random() * 3);
            
            if (type === 0) {
                // ×¡×“×¨×” ×™×•×¨×“×ª ×¢× ×›×¤×œ
                const start = 100;
                currentSequence = [start];
                for (let i = 1; i < 8; i++) {
                    currentSequence.push(Math.floor(currentSequence[i-1] / 2));
                }
                sequenceRule = '×›×œ ××¡×¤×¨ ×”×•× ×—×¦×™ ××”×§×•×“×';
                sequenceType = '×¡×“×¨×” ×™×•×¨×“×ª';
            } else if (type === 1) {
                // ×¡×“×¨×ª ×¨×™×‘×•×¢×™×
                currentSequence = [];
                for (let i = 1; i <= 8; i++) {
                    currentSequence.push(i * i);
                }
                sequenceRule = '×¡×“×¨×ª ×¨×™×‘×•×¢×™×: 1Â², 2Â², 3Â²...';
                sequenceType = '×¡×“×¨×ª ×—×–×§×•×ª';
            } else {
                // ×¡×“×¨×” ×¢× ×ª×‘× ×™×ª +3, -1
                const start = 5;
                currentSequence = [start];
                for (let i = 1; i < 8; i++) {
                    if (i % 2 === 1) {
                        currentSequence.push(currentSequence[i-1] + 3);
                    } else {
                        currentSequence.push(currentSequence[i-1] - 1);
                    }
                }
                sequenceRule = '×œ×¡×™×¨×•×’×™×Ÿ: +3, -1';
                sequenceType = '×¡×“×¨×” ××—×–×•×¨×™×ª';
            }
            
            missingIndices = [2, 4, 6];
        }

        function createLevel4Sequence() {
            // ×¨××” 4: ×¤×™×‘×•× ××¦'×™, ×¡×“×¨×•×ª ×¢× ×—×•×§×™×•×ª ×“×™× ××™×ª
            const type = Math.floor(Math.random() * 3);
            
            if (type === 0) {
                // ×¤×™×‘×•× ××¦'×™
                currentSequence = [1, 1];
                for (let i = 2; i < 8; i++) {
                    currentSequence.push(currentSequence[i-1] + currentSequence[i-2]);
                }
                sequenceRule = '×›×œ ××¡×¤×¨ = ×¡×›×•× ×©× ×™ ×”×§×•×“××™×';
                sequenceType = '×¡×“×¨×ª ×¤×™×‘×•× ××¦'×™';
            } else if (type === 1) {
                // ×”×¤×¨×© ×’×“×œ ×‘××•×¤×Ÿ ×“×™× ××™: +1, +2, +3, +4...
                currentSequence = [2];
                let diff = 1;
                for (let i = 1; i < 8; i++) {
                    currentSequence.push(currentSequence[i-1] + diff);
                    diff++;
                }
                sequenceRule = '×”×”×¤×¨×© ×’×“×œ ×‘-1 ×›×œ ×¤×¢×: +1, +2, +3...';
                sequenceType = '×¡×“×¨×” ××©×•×œ×©×ª';
            } else {
                // ×›×¤×œ ×•×—×™×‘×•×¨ ×œ×¡×™×¨×•×’×™×Ÿ
                currentSequence = [2];
                for (let i = 1; i < 8; i++) {
                    if (i % 2 === 1) {
                        currentSequence.push(currentSequence[i-1] * 2);
                    } else {
                        currentSequence.push(currentSequence[i-1] + 3);
                    }
                }
                sequenceRule = '×œ×¡×™×¨×•×’×™×Ÿ: Ã—2, +3';
                sequenceType = '×¡×“×¨×” ××©×•×œ×‘×ª';
            }
            
            missingIndices = [3, 5, 6, 7];
        }

        function createLevel5Sequence() {
            // ×¨××” 5: ×¡×“×¨×•×ª ××•×¨×›×‘×•×ª ×××•×“
            const type = Math.floor(Math.random() * 3);
            
            if (type === 0) {
                // ×¡×“×¨×ª ×¨××©×•× ×™×™×
                const primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29];
                currentSequence = primes.slice(0, 8);
                sequenceRule = '×¡×“×¨×ª ××¡×¤×¨×™× ×¨××©×•× ×™×™×';
                sequenceType = '××¡×¤×¨×™× ×¨××©×•× ×™×™×';
            } else if (type === 1) {
                // ×¡×“×¨×” ×¢× ×—×•×§ ××©×ª× ×”: +1, +2, +4, +8...
                currentSequence = [1];
                let diff = 1;
                for (let i = 1; i < 8; i++) {
                    currentSequence.push(currentSequence[i-1] + diff);
                    diff *= 2;
                }
                sequenceRule = '×”×”×¤×¨×© ××•×›×¤×œ: +1, +2, +4, +8...';
                sequenceType = '×¡×“×¨×” ××¢×¨×™×›×™×ª';
            } else {
                // ×¡×“×¨×ª ×˜×¨×™×‘×•× ××¦'×™ (×¡×›×•× 3 ×§×•×“××™×)
                currentSequence = [1, 1, 2];
                for (let i = 3; i < 8; i++) {
                    currentSequence.push(
                        currentSequence[i-1] + 
                        currentSequence[i-2] + 
                        currentSequence[i-3]
                    );
                }
                sequenceRule = '×›×œ ××¡×¤×¨ = ×¡×›×•× ×©×œ×•×©×ª ×”×§×•×“××™×';
                sequenceType = '×¡×“×¨×ª ×˜×¨×™×‘×•× ××¦'×™';
            }
            
            missingIndices = [2, 4, 5, 6, 7];
        }

        function displaySequence() {
            const container = document.getElementById('sequenceDisplay');
            container.innerHTML = '';
            
            currentSequence.forEach((num, index) => {
                if (index > 0) {
                    // ×”×•×¡×£ ×¡×™××Ÿ ×¤×¢×•×œ×”
                    const arrow = document.createElement('span');
                    arrow.className = 'sequence-arrow';
                    arrow.textContent = 'â†';
                    container.appendChild(arrow);
                }
                
                const item = document.createElement('div');
                item.className = 'sequence-item';
                
                if (missingIndices.includes(index)) {
                    // ×ª× ×¨×™×§
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'input-sequence-item';
                    input.id = `input-${index}`;
                    input.placeholder = '?';
                    
                    input.addEventListener('change', (e) => {
                        userAnswers[index] = parseInt(e.target.value);
                    });
                    
                    item.appendChild(input);
                    correctAnswersMap[index] = num;
                } else {
                    // ×ª× ××œ×
                    item.className += ' filled';
                    item.textContent = num;
                }
                
                container.appendChild(item);
            });
        }

        function createOptions() {
            const container = document.getElementById('optionsGrid');
            container.innerHTML = '';
            
            // ×× ×¨××” × ××•×›×”, ×”×¦×’ ××¤×©×¨×•×™×•×ª
            if (currentLevel <= 2) {
                const options = new Set();
                
                // ×”×•×¡×£ ×ª×©×•×‘×•×ª × ×›×•× ×•×ª
                missingIndices.forEach(index => {
                    options.add(currentSequence[index]);
                });
                
                // ×”×•×¡×£ ××¡×™×—×™×
                while (options.size < 8) {
                    const distractor = currentSequence[0] + Math.floor(Math.random() * 50);
                    options.add(distractor);
                }
                
                // ×¦×•×¨ ×›×¤×ª×•×¨×™×
                Array.from(options).sort((a, b) => a - b).forEach(option => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.textContent = option;
                    btn.onclick = () => fillNext(option, btn);
                    container.appendChild(btn);
                });
            }
        }

        function fillNext(value, button) {
            // ××¦× ××ª ×”×©×“×” ×”×¨×™×§ ×”×‘×
            for (let index of missingIndices) {
                const input = document.getElementById(`input-${index}`);
                if (input && !input.value) {
                    input.value = value;
                    userAnswers[index] = value;
                    button.classList.add('selected');
                    button.disabled = true;
                    break;
                }
            }
        }

        function checkAnswer() {
            totalQuestions++;
            questionsInLevel++;
            
            let allCorrect = true;
            let correctCount = 0;
            
            missingIndices.forEach(index => {
                const input = document.getElementById(`input-${index}`);
                const userAnswer = parseInt(input.value);
                const correctAnswer = correctAnswersMap[index];
                
                if (userAnswer === correctAnswer) {
                    input.style.background = '#d4edda';
                    correctCount++;
                } else {
                    input.style.background = '#f8d7da';
                    input.value = correctAnswer;
                    allCorrect = false;
                }
            });
            
            if (allCorrect) {
                correctAnswers++;
                streak++;
                let points = 15 * currentLevel;
                
                // ×‘×•× ×•×¡ ×¨×¦×£
                if (streak >= 3) {
                    points += streak * 3;
                }
                
                score += points;
                showFeedback(`ğŸŠ ××¦×•×™×Ÿ! ×’×™×œ×™×ª ××ª ×”×—×•×§! +${points} × ×§×•×“×•×ª`, 'correct');
                
                // ×”××©×š
                setTimeout(() => {
                    if (questionsInLevel >= 10) {
                        levelComplete();
                    } else {
                        newSequence();
                    }
                }, 2000);
            } else {
                streak = 0;
                const partial = correctCount > 0 ? ` (${correctCount}/${missingIndices.length} × ×›×•× ×™×)` : '';
                showFeedback(`âŒ ×œ× ××“×•×™×§${partial}. ×”×—×•×§: ${sequenceRule}`, 'incorrect');
            }
            
            updateStats();
            updateProgress();
        }

        function showHint() {
            score = Math.max(0, score - 5);
            updateStats();
            
            document.getElementById('patternHint').classList.add('show');
            
            // ×¨××– ×¡×¤×¦×™×¤×™ ×œ×¡×•×’ ×”×¡×“×¨×”
            let hint = '';
            if (sequenceType.includes('×—×©×‘×•× ×™×ª')) {
                hint = 'ğŸ’¡ ×‘×“×•×§ ××ª ×”×”×¤×¨×© ×‘×™×Ÿ ××¡×¤×¨×™× ×¢×•×§×‘×™×';
            } else if (sequenceType.includes('×”× ×“×¡×™×ª')) {
                hint = 'ğŸ’¡ ×‘×“×•×§ ××ª ×”×™×—×¡ ×‘×™×Ÿ ××¡×¤×¨×™× ×¢×•×§×‘×™×';
            } else if (sequenceType.includes('×¤×™×‘×•× ××¦\'×™')) {
                hint = 'ğŸ’¡ ×›×œ ××¡×¤×¨ ×§×©×•×¨ ×œ×§×•×“××™× ×œ×•';
            } else {
                hint = 'ğŸ’¡ ×—×¤×© ×ª×‘× ×™×ª ×—×•×–×¨×ª ××• ×—×•×§ ××©×ª× ×”';
            }
            
            document.getElementById('patternHint').textContent = hint;
        }

        function showPattern() {
            score = Math.max(0, score - 7);
            updateStats();
            
            // ×—×©×‘ ×•×”×¦×’ ×”×¤×¨×©×™×
            const differences = [];
            for (let i = 1; i < currentSequence.length; i++) {
                if (!missingIndices.includes(i) && !missingIndices.includes(i-1)) {
                    differences.push(currentSequence[i] - currentSequence[i-1]);
                }
            }
            
            showFeedback(`ğŸ“Š ×”×¤×¨×©×™×: ${differences.join(', ')}`, 'correct');
        }

        function revealRule() {
            if (document.getElementById('ruleReveal').classList.contains('revealed')) {
                return;
            }
            
            score = Math.max(0, score - 10);
            updateStats();
            
            document.getElementById('ruleReveal').classList.add('revealed');
            document.getElementById('ruleText').style.display = 'block';
            document.getElementById('ruleText').textContent = sequenceRule;
        }

        function levelComplete() {
            showFeedback(`ğŸŠ ×¡×™×™××ª ×¨××” ${currentLevel}! ×¢×•×‘×¨ ×œ×¨××” ${currentLevel + 1}`, 'correct');
            
            if (currentLevel < 5) {
                currentLevel++;
                questionsInLevel = 0;
                
                // ×¢×“×›×•×Ÿ ×›×¤×ª×•×¨ ×¨××”
                document.querySelectorAll('.level-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelectorAll('.level-btn')[currentLevel - 1].classList.add('active');
                
                setTimeout(() => newSequence(), 2000);
            } else {
                gameComplete();
            }
        }

        function gameComplete() {
            const accuracy = Math.round((correctAnswers / totalQuestions) * 100);
            
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content">
                    <h2>ğŸ† ×›×œ ×”×›×‘×•×“! ğŸ†</h2>
                    <p>×¡×™×™××ª ××ª ×›×œ ×”×¨××•×ª!</p>
                    <div class="grade-circle excellent">${score}</div>
                    <p>×“×™×•×§: ${accuracy}%</p>
                    
                    <button class="btn btn-secondary" onclick="location.href='index.html'">×—×–×¨×” ×œ×¢××•×“ ×”×¨××©×™</button>
                </div>
            `;
            document.body.appendChild(modal);
            
            saveProgress();
        }

        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback show ${type}`;
            
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 3000);
        }

        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('currentLevel').textContent = currentLevel;
            document.getElementById('streak').textContent = streak;
            
            const accuracy = totalQuestions > 0 ? 
                Math.round((correctAnswers / totalQuestions) * 100) : 100;
            document.getElementById('accuracy').textContent = accuracy;
        }

        function updateProgress() {
            const progress = (questionsInLevel / 10) * 100;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = `${questionsInLevel}/10`;
        }

        function saveProgress() {
            localStorage.setItem('sequences_score', score);
            localStorage.setItem('sequences_level', currentLevel);
            localStorage.setItem('sequences_accuracy', 
                Math.round((correctAnswers / totalQuestions) * 100));
        }

        function loadProgress() {
            const savedScore = localStorage.getItem('sequences_score');
            if (savedScore) {
                score = parseInt(savedScore);
                updateStats();
            }
        }
    </script>
</body>
</html>